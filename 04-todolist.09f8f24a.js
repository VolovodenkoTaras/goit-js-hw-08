function e(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){console.error("Set state error: ",e.name,e.message)}}function t(e){try{return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):void 0}catch(e){console.error("Get state error: ",e.name,e.message)}}let n=0;const s=document.getElementById("myInput");function o(e,t=!1,s=n){const o=document.createElement("LI"),c=document.createTextNode(e);o.appendChild(c),o.dataset.id=s,t&&o.classList.add("checked"),myUL.appendChild(o),function(e){const t=document.createElement("SPAN"),n=document.createTextNode("Ã—");t.className="close",t.appendChild(n),e.appendChild(t)}(o)}function c(e,t){return{text:e,isDone:t,id:n}}const a=document.getElementById("addBtn"),d=document.getElementById("myUL");a.addEventListener("click",(function(){const a=s.value.trim();a?(o(a),s.value="",function(s,o=!1){const a=t("tasks");a?(a.push(c(s,o)),e("tasks",a)):e("tasks",[c(s,o)]);n+=1}(a)):alert("You must write something!")})),d.addEventListener("click",(function({target:n}){const s=t("tasks"),o=s.findIndex((e=>Number(e.id)===Number(n.dataset.id)));"LI"===n.tagName?(n.classList.toggle("checked"),s[o].isDone=!s[o].isDone):n.classList.contains("close")&&(n.parentNode.remove(),s.splice(o,1)),e("tasks",s)})),window.addEventListener("DOMContentLoaded",(function(){const e=t("tasks");e&&(e.forEach((({text:e,isDone:t,id:n})=>o(e,t,n))),n=e.length?e[e.length-1].id+1:0)}));
//# sourceMappingURL=04-todolist.09f8f24a.js.map
