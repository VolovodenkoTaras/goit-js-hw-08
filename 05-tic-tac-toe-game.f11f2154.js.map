{"mappings":"AAAA,MAAMA,EAAUC,SAASC,cAAc,YACjCC,EAAUF,SAASC,cAAc,eACvCF,EAAQI,mBAAmB,YAAaC,KACxCL,EAAQM,iBAAiB,SA8CzB,SAAiBC,GACb,GAAKA,EAAIC,OAAOC,YAuBZC,MAAM,iBAvBmB,CACzBH,EAAIC,OAAOC,YAAcE,EACzB,MAAMC,EAAKC,OAAON,EAAIC,OAAOM,QAAQF,IACrC,IAAIG,EACW,MAAXJ,GACAK,EAAMC,KAAKL,GACXM,aAAaC,QAlDX,UAkD0BC,KAAKC,UAAUL,IAC3CD,EAASO,EAASN,KAElBO,EAAMN,KAAKL,GACXM,aAAaC,QArDX,UAqD0BC,KAAKC,UAAUE,IAC3CR,EAASO,EAASC,IAGtBC,YAAW,KACP,GAAIT,EAGA,OAFAL,MAAM,UAAUC,UAChBc,IAGJd,EAAoB,MAAXA,EAAiB,IAAM,GAAG,G,KAlE/CR,EAAQG,iBAAiB,QAASmB,GAIlC,IAAId,EAAS,IACTK,EAAQI,KAAKM,MAAMR,aAAaS,QAHtB,aAGyC,GACnDJ,EAAQH,KAAKM,MAAMR,aAAaS,QAHtB,aAGyC,GACvD,MAAMC,EAAM,CACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IAkBX,SAASN,EAASO,GACd,OAAOD,EAAIE,MAAKC,GAAQA,EAAKC,OAAMpB,GAAMiB,EAAII,SAASrB,M,CAG1D,SAASP,IACL,IAAI6B,EAAS,GACb,IAAK,IAAIC,EAAI,EAAGA,GAAK,EAAGA,GAAK,EACzBD,GAAU,8BAA8BC,YAE5C,OAAOD,C,CAgCX,SAAST,IACLd,EAAS,IACTK,EAAQ,GACRO,EAAQ,GACRL,aAAakB,QACbpC,EAAQqC,UAAYhC,G,CA3DpB,IAAIL,EAAQsC,UAAUC,SAAQR,IAC1B,MAAMnB,EAAKC,OAAOkB,EAAKjB,QAAQF,IAE3BI,EAAMiB,SAASrB,GACfmB,EAAKtB,YAAc,IACZc,EAAMU,SAASrB,KACtBmB,EAAKtB,YAAc,IAAG","sources":["src/js/05-tic-tac-toe-game.js"],"sourcesContent":["const content = document.querySelector('.content');\nconst restart = document.querySelector('.js-restart')\ncontent.insertAdjacentHTML('beforeend', createMarkup());\ncontent.addEventListener('click', onClick);\nrestart.addEventListener('click', onRestart);\n\nconst X_KEY = 'PlayerX';\nconst O_KEY = 'PlayerO';\nlet player = 'X';\nlet stepX = JSON.parse(localStorage.getItem(X_KEY)) || [];\nlet stepO = JSON.parse(localStorage.getItem(O_KEY)) || [];\nconst win = [\n    [1, 2, 3],\n    [3, 6, 9],\n    [4, 5, 6],\n    [7, 8, 9],\n    [1, 4, 7],\n    [2, 5, 8],\n    [1, 5, 9],\n    [3, 5, 7]\n];\n\n\nfunction startGame() {\n    [...content.children].forEach(item => {\n        const id = Number(item.dataset.id)\n\n        if (stepX.includes(id)) {\n            item.textContent = 'X';\n        } else if (stepO.includes(id)) {\n            item.textContent = 'O'\n        }\n    })\n}\nstartGame()\n\n\nfunction isWinner(arr) {\n    return win.some(item => item.every(id => arr.includes(id)))\n}\n\nfunction createMarkup() {\n    let markup = '';\n    for (let i = 1; i <= 9; i += 1) {\n        markup += `<div class=\"item\" data-id=\"${i}\"></div>`\n    }\n    return markup\n}\n\nfunction onClick(evt) {\n    if (!evt.target.textContent) {\n        evt.target.textContent = player;\n        const id = Number(evt.target.dataset.id);\n        let result;\n        if (player === \"X\") {\n            stepX.push(id)\n            localStorage.setItem(X_KEY, JSON.stringify(stepX));\n            result = isWinner(stepX);\n        } else {\n            stepO.push(id)\n            localStorage.setItem(O_KEY, JSON.stringify(stepO));\n            result = isWinner(stepO);\n        }\n\n        setTimeout(() => {\n            if (result) {\n                alert(`Winner ${player}`);\n                onRestart();\n                return;\n            }\n            player = player === \"X\" ? \"O\" : \"X\";\n        })\n    } else {\n        alert('Change!!!')\n    }\n}\n\n\nfunction onRestart() {\n    player = \"X\";\n    stepX = [];\n    stepO = [];\n    localStorage.clear()\n    content.innerHTML = createMarkup();\n}\n\n\n"],"names":["$031c8b41d1debe14$var$content","document","querySelector","$031c8b41d1debe14$var$restart","insertAdjacentHTML","$031c8b41d1debe14$var$createMarkup","addEventListener","evt","target","textContent","alert","$031c8b41d1debe14$var$player","id","Number","dataset","result","$031c8b41d1debe14$var$stepX","push","localStorage","setItem","JSON","stringify","$031c8b41d1debe14$var$isWinner","$031c8b41d1debe14$var$stepO","setTimeout","$031c8b41d1debe14$var$onRestart","parse","getItem","$031c8b41d1debe14$var$win","arr","some","item","every","includes","markup","i","clear","innerHTML","children","forEach"],"version":3,"file":"05-tic-tac-toe-game.f11f2154.js.map"}