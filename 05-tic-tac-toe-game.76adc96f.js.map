{"mappings":"AAAA,MAAMA,EAAUC,SAASC,cAAc,YACjCC,EAAUF,SAASC,cAAc,eACvCF,EAAQI,mBAAmB,YAAaC,KACxCL,EAAQM,iBAAiB,SA8CzB,SAAiBC,GACb,GAAKA,EAAIC,OAAOC,YA+BZC,MAAM,iBA/BmB,CACzBH,EAAIC,OAAOC,YAAcE,EACzB,MAAMC,EAAKC,OAAON,EAAIC,OAAOM,QAAQF,IACrC,IAAIG,EACW,MAAXJ,GACAK,EAAMC,KAAKL,GACXM,aAAaC,QAlDX,UAkD0BC,KAAKC,UAAUL,IAC3CD,EAASO,EAASN,KAElBO,EAAMN,KAAKL,GACXM,aAAaC,QArDX,UAqD0BC,KAAKC,UAAUE,IAC3CR,EAASO,EAASC,IAGtBC,YAAW,IAEHT,GACAL,MAAM,UAAUC,UAChBc,MAGJd,EAAoB,MAAXA,EAAiB,IAAM,IAChCO,aAAaC,QAhEN,gBAgE0BR,GAE7BK,EAAMU,OAASH,EAAMG,SAAW,GAChChB,MAAM,gBACNe,UAFJ,I,KAtEZtB,EAAQG,iBAAiB,QAASmB,GAKlC,IAAId,EAASO,aAAaS,QADP,kBAC8B,IAC7CX,EAAQI,KAAKQ,MAAMV,aAAaS,QAJtB,aAIyC,GACnDJ,EAAQH,KAAKQ,MAAMV,aAAaS,QAJtB,aAIyC,GACvD,MAAME,EAAM,CACR,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IAiBX,SAASP,EAASQ,GACd,OAAOD,EAAIE,MAAKC,GAAQA,EAAKC,OAAMrB,GAAMkB,EAAII,SAAStB,M,CAG1D,SAASP,IACL,IAAI8B,EAAS,GACb,IAAK,IAAIC,EAAI,EAAGA,GAAK,EAAGA,GAAK,EACzBD,GAAU,8BAA8BC,YAE5C,OAAOD,C,CAwCX,SAASV,IACLd,EAAS,IACTK,EAAQ,GACRO,EAAQ,GACRL,aAAamB,QACbrC,EAAQsC,UAAYjC,G,CAnEpB,IAAIL,EAAQuC,UAAUC,SAAQR,IAC1B,MAAMpB,EAAKC,OAAOmB,EAAKlB,QAAQF,IAE3BI,EAAMkB,SAAStB,GACfoB,EAAKvB,YAAc,IACZc,EAAMW,SAAStB,KACtBoB,EAAKvB,YAAc,IAAG","sources":["src/js/05-tic-tac-toe-game.js"],"sourcesContent":["const content = document.querySelector('.content');\nconst restart = document.querySelector('.js-restart')\ncontent.insertAdjacentHTML('beforeend', createMarkup());\ncontent.addEventListener('click', onClick);\nrestart.addEventListener('click', onRestart);\n\nconst X_KEY = 'PlayerX';\nconst O_KEY = 'PlayerO';\nconst KEY_PLAYER = 'currentPlayer';\nlet player = localStorage.getItem(KEY_PLAYER) || 'X';\nlet stepX = JSON.parse(localStorage.getItem(X_KEY)) || [];\nlet stepO = JSON.parse(localStorage.getItem(O_KEY)) || [];\nconst win = [\n    [1, 2, 3],\n    [3, 6, 9],\n    [4, 5, 6],\n    [7, 8, 9],\n    [1, 4, 7],\n    [2, 5, 8],\n    [1, 5, 9],\n    [3, 5, 7]\n];\n\nfunction startGame() {\n    [...content.children].forEach(item => {\n        const id = Number(item.dataset.id)\n\n        if (stepX.includes(id)) {\n            item.textContent = 'X';\n        } else if (stepO.includes(id)) {\n            item.textContent = 'O'\n        }\n    })\n}\nstartGame()\n\n\nfunction isWinner(arr) {\n    return win.some(item => item.every(id => arr.includes(id)))\n}\n\nfunction createMarkup() {\n    let markup = '';\n    for (let i = 1; i <= 9; i += 1) {\n        markup += `<div class=\"item\" data-id=\"${i}\"></div>`\n    }\n    return markup\n}\n\nfunction onClick(evt) {\n    if (!evt.target.textContent) {\n        evt.target.textContent = player;\n        const id = Number(evt.target.dataset.id);\n        let result;\n        if (player === \"X\") {\n            stepX.push(id)\n            localStorage.setItem(X_KEY, JSON.stringify(stepX));\n            result = isWinner(stepX);\n        } else {\n            stepO.push(id)\n            localStorage.setItem(O_KEY, JSON.stringify(stepO));\n            result = isWinner(stepO);\n        }\n\n        setTimeout(() => {\n\n            if (result) {\n                alert(`Winner ${player}`);\n                onRestart();\n                return;\n            }\n            player = player === \"X\" ? \"O\" : \"X\";\n            localStorage.setItem(KEY_PLAYER, player);\n\n            if (stepX.length + stepO.length === 9) {\n                alert(`Ничья !`);\n                onRestart();\n                return;\n            }\n        })\n    } else {\n        alert('Change!!!')\n    }\n}\n\n\nfunction onRestart() {\n    player = \"X\";\n    stepX = [];\n    stepO = [];\n    localStorage.clear()\n    content.innerHTML = createMarkup();\n}"],"names":["$031c8b41d1debe14$var$content","document","querySelector","$031c8b41d1debe14$var$restart","insertAdjacentHTML","$031c8b41d1debe14$var$createMarkup","addEventListener","evt","target","textContent","alert","$031c8b41d1debe14$var$player","id","Number","dataset","result","$031c8b41d1debe14$var$stepX","push","localStorage","setItem","JSON","stringify","$031c8b41d1debe14$var$isWinner","$031c8b41d1debe14$var$stepO","setTimeout","$031c8b41d1debe14$var$onRestart","length","getItem","parse","$031c8b41d1debe14$var$win","arr","some","item","every","includes","markup","i","clear","innerHTML","children","forEach"],"version":3,"file":"05-tic-tac-toe-game.76adc96f.js.map"}