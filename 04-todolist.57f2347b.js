!function(){function e(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){console.error("Set state error: ",e.name,e.message)}}function t(e){try{return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):void 0}catch(e){console.error("Get state error: ",e.name,e.message)}}var n="tasks",a=0,o=document.getElementById("myInput");function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,o=document.createElement("LI"),r=document.createTextNode(e);o.appendChild(r),o.dataset.id=n,t&&o.classList.add("checked"),myUL.appendChild(o),d(o)}function d(e){var t=document.createElement("SPAN"),n=document.createTextNode("Ã—");t.className="close",t.appendChild(n),e.appendChild(t)}function c(e,t){return{text:e,isDone:t,id:a}}var i=document.getElementById("addBtn"),s=document.getElementById("myUL");i.addEventListener("click",(function(){var d=o.value.trim();d?(r(d),o.value="",function(o){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=t(n);d?(d.push(c(o,r)),e(n,d)):e(n,[c(o,r)]);a+=1}(d)):alert("You must write something!")})),s.addEventListener("click",(function(a){var o=a.target,r=t(n),d=r.findIndex((function(e){return Number(e.id)===Number(o.dataset.id)}));"LI"===o.tagName?(o.classList.toggle("checked"),r[d].isDone=!r[d].isDone):o.classList.contains("close")&&(o.parentNode.remove(),r.splice(d,1)),e(n,r)})),window.addEventListener("DOMContentLoaded",(function(){var e=t(n);e&&(e.forEach((function(e){return r(e.text,e.isDone,e.id)})),a=e.length?e[e.length-1].id+1:0)}))}();
//# sourceMappingURL=04-todolist.57f2347b.js.map
